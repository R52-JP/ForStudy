<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="utf-8">
  <title>英単語テスト -2学期中間テスト-</title>
  <style>
    h1 {
        border-bottom: double 5px #FFC778;
    }
    a {
        line-height: 1.6;
        font-family: "Hiragino Maru Gothic ProN W4";
        font-size:  40px;
        color: black
    }

    .buttons > a > mark {
        background-color: #cecece;
    }

    .body > a > mark {
        background-color: #fff9ac;
    }
  </style>
</head>
<body>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
  <script language="javascript" type="text/javascript">
    url = "2fin.txt";
    $.get(url, (data) => {
      console.log(data);
      result = "";
      word_list = data.split("\n");
      for ( let i=0; i<word_list.length; i++ ) {
        word_list[i] = word_list[i].split(":");
      }
      for ( let i=1; i<=word_list.length; i++ ) {
        word_result = "<a><mark id=\""+ i + "a\">"+word_list[i-1][0]+"</mark></a><a>……</a><a><mark id=\""+ i +"b\">"+word_list[i-1][1]+"</mark></a><br>";
        result = result + word_result;
      }
      document.getElementById('this').innerHTML = html;


      let tc = word_list.length  //単語の数

    let change_color = (id) => {
        let a = document.getElementById(id);
        if (a.style.color == "black") {
            a.style.color = "#fff9ac";
        }
        else {
            a.style.color = "black";
        }
    }

    let hide_english = () => {
        for(let i=1;i<=tc;i++) {
            let id = i + "a";
            let a = document.getElementById(id);
            a.style.color = "#fff9ac";
        }
        for(let i=1;i<=tc;i++) {
            let id = i + "b";
            let a = document.getElementById(id);
            a.style.color = "black";
        }
    }

    let hide_japanese = () => {
        for(let i=1;i<=tc;i++) {
            let id = i + "a";
            let a = document.getElementById(id);
            a.style.color = "black";
        }
        for(let i=1;i<=tc;i++) {
            let id = i + "b";
            let a = document.getElementById(id);
            a.style.color = "#fff9ac";
        }
    }

    for(let i=1;i<=tc;i++) {
        let id = i + "a";
        let a = document.getElementById(id);
        let clickevent = "change_color(\"" + id + "\");"
        a.setAttribute('onclick', clickevent);
        console.log(a.onclick);
    }
    for(let i=1;i<=tc;i++) {
        let id = i + "b";
        let a = document.getElementById(id);
        let clickevent = "change_color(\"" + id + "\");"
        a.setAttribute('onclick', clickevent);
        console.log(a.onclick);
    }
  </script>
  <h1>英単語テスト -2学期中間テスト-</h1>

  <div class="buttons">
    <a><mark onclick="hide_english()">（英語を隠す）</mark></a><a>　　　</a><a><mark onclick="hide_japanese()">（日本語を隠す）</mark></a><br><br>
  </div>
  
  <div class="body" id="this">
  </div>
</body>
</html>
